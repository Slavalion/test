import{_ as k,a as Q}from"./AppButton-ffc821ac.js";import{E as w}from"./EmptyState-d0b40849.js";import{_ as C}from"./TextInput-7865c9b5.js";import{o as q,_ as D}from"./AuthenticatedLayout-6b95fe5a.js";import{f as z,o as m,g as v,w as t,a as l,h as e,b as i,u as b,r as A,T as B,e as x,l as E,c as h,Z as M,F as y,i as S,n as U,t as V,q as j,s as I}from"./app-632bf8b8.js";import{T as f,A as F}from"./TableTh-6fdd4a53.js";import{k as $,_ as N}from"./Modal-1349d4bc.js";import{_ as L}from"./TextareaInput-d44495cb.js";import{_ as Z}from"./RadioGroupInput-89d3a384.js";import"./index-81635579.js";import"./index-4cd942bc.js";import"./useAxios-d55f63a8.js";import"./dayjs.min-356b711c.js";import"./SelectInput-944e57c4.js";import"./LabelText-36465a88.js";import"./CheckboxInput-967d96fa.js";const H={class:"ml-auto flex items-center gap-2"},O={__name:"AddQuestionDatePicker",props:{modelValue:{type:[Date,null,Object],required:!0},label:{type:String,default:""},size:{type:String,default:"sm"},hasError:{type:Boolean,default:!1},errorMessage:{type:String,default:""},type:{type:String,default:"datetime"}},emits:["update:modelValue"],setup(n){const s=n,d=z(()=>r(s.modelValue)),_=o=>`0${o}`.slice(-2),r=o=>{if(!(o instanceof Date))return s.type=="time"?`${o.hours}:${o.minutes}`:"";const u=p=>[p.getDate(),p.getMonth()+1,p.getFullYear()].map(_).join("."),a=p=>[p.getHours(),p.getMinutes()].map(_).join(":");return s.type=="date"?`${u(o)}`:`${u(o)}, ${a(o)}`};return(o,u)=>(m(),v(b(q),{value:n.modelValue,"time-picker-inline":s.type=="datetime","time-picker":s.type=="time","input-class-name":"text-input","onUpdate:modelValue":u[0]||(u[0]=a=>o.$emit("update:modelValue",a)),locale:"ru",format:r,required:"",placeholder:"Select Date",class:"datepicker","min-date":new Date},{"dp-input":t(()=>[l(C,{"model-value":d.value,size:n.size,label:n.label,"has-error":n.hasError,"error-message":n.errorMessage,icon:"calendar",readonly:"",class:"cursor-pointer",placeholder:"Опубликовать сейчас"},null,8,["model-value","size","label","has-error","error-message"])]),"action-row":t(({selectDate:a})=>[e("div",H,[l(k,{onClick:a},{default:t(()=>[i("Выбрать")]),_:2},1032,["onClick"])])]),_:1},8,["value","time-picker-inline","time-picker","min-date"]))}},P={__name:"AddQuestion",setup(n){const s=A({gender:null,content:"",errors:{},date:null}),d=()=>{$.close()};return(_,r)=>(m(),v(N,{show:b($).show,onClose:d,submitable:"",clearable:"",bodyClass:"addQuestion"},{header:t(()=>[i("Вопросы")]),default:t(()=>{var o,u;return[l(Z,{modelValue:s.gender,"onUpdate:modelValue":r[0]||(r[0]=a=>s.gender=a),label:"Пол покупателя","has-error":((o=s.errors)==null?void 0:o.gender)!=null,"error-message":(u=s.errors)==null?void 0:u.gender,class:"mb-6"},null,8,["modelValue","has-error","error-message"]),l(O,{modelValue:s.date,"onUpdate:modelValue":r[1]||(r[1]=a=>s.date=a),label:"Дата и время публикации",size:"lg",type:"date",class:"basis-1/4 mb-6"},null,8,["modelValue"]),l(L,{modelValue:s.content,"onUpdate:modelValue":r[2]||(r[2]=a=>s.content=a),label:"Вопрос",rows:"6",placeholder:"Опубликовать сейчас"},null,8,["modelValue"])]}),_:1},8,["show"]))}};const g=n=>(j("data-v-1d31e773"),n=n(),I(),n),X={class:"panel mb-6"},Y={class:"flex flex-row gap-1.5"},G={class:"ml-auto flex gap-3"},J={key:0,class:"panel panel_product grow"},K=g(()=>e("td",null,[e("div",null,"Описание товара")],-1)),R={class:"pr-6"},W={class:"blueText"},ee=g(()=>e("td",null,[e("p",null,"456")],-1)),te=g(()=>e("td",null,[e("p",null,"XL")],-1)),le=g(()=>e("td",null,[e("p",null,"Кроссовки")],-1)),se=g(()=>e("td",null,[e("p",null,"10")],-1)),ae={class:"pl-6 flex justify-end"},oe=g(()=>e("div",{class:"flex flex-col"},[e("div",{class:"header-5 mb-1.5"}," нет данных удовлетворяющих условиям поиска ")],-1)),ne={key:1,class:"panel flex flex-col grow"},re=g(()=>e("div",{class:"flex flex-col"},[e("div",{class:"header-5 mb-1.5"},"Доступных вопросов пока нет"),e("div",{class:"paragraph-3 center"},"Чтобы добавить вопрос,"),e("div",{class:"paragraph-3 center"},"заберите товар из ПВЗ")],-1)),ie={__name:"Question",props:{result:{type:String,default:""},questions:{type:Array,default:()=>[]}},setup(n){const s=n;B({product_id:"",gender:"",pub_date:"",question:""});const d=x(""),_=x(s.questions),r=x("available"),o=["available","published"],u=a=>{r.value=a};return E(d,()=>{d.value.length>0?(_.value=s.questions.filter(a=>a.product_id.substring(0,d.value.length)===d.value),console.log(s.questions),console.log(d.value)):_.value=s.questions}),(a,p)=>(m(),h(y,null,[l(b(M),{title:"Questions"}),l(D,null,{header:t(()=>[i("Вопросы")]),default:t(()=>[e("div",X,[e("div",Y,[(m(),h(y,null,S(o,c=>l(k,{theme:"normal",class:U({btn_selected:c==r.value}),onClick:T=>u(c)},{default:t(()=>[i(V(a.$t(c+"Title")),1)]),_:2},1032,["class","onClick"])),64)),e("div",G,[l(C,{modelValue:d.value,"onUpdate:modelValue":p[0]||(p[0]=c=>d.value=c),size:"md",placeholder:"Поиск по артикулу"},null,8,["modelValue"])])])]),n.questions.length?(m(),h("div",J,[_.value.length>0?(m(),v(F,{key:0},{head:t(()=>[e("tr",null,[l(f,{class:"text-left"},{default:t(()=>[i("Товар")]),_:1}),l(f,{class:"text-left"},{default:t(()=>[i("Артикул")]),_:1}),l(f,{class:"text-left"},{default:t(()=>[i("Кол-во")]),_:1}),l(f,{class:"text-left"},{default:t(()=>[i("Пол")]),_:1}),l(f,{class:"text-left"},{default:t(()=>[i("Размер")]),_:1}),l(f,{class:"text-left"},{default:t(()=>[i("Поисковый запрос")]),_:1}),l(f,{class:"text-left"},{default:t(()=>[i("Доступно вопросов")]),_:1}),l(f,{class:"text-left"})])]),default:t(()=>[(m(!0),h(y,null,S(_.value,c=>(m(),h("tr",{key:c,class:"main-table__tr"},[K,e("td",null,[e("div",R,[e("span",W,V(c.product_id),1)])]),ee,e("td",null,[e("p",null,V(c.gender===0?"М":"Ж"),1)]),te,le,se,e("td",null,[e("div",ae,[l(k,{onClick:T=>b($).open(c.id)},{default:t(()=>[i(" Добавить вопрос ")]),_:2},1032,["onClick"])])])]))),128))]),_:1})):(m(),v(w,{key:1,class:"grow growCenter"},{default:t(()=>[oe]),_:1}))])):(m(),h("div",ne,[l(w,{class:"grow growCenter"},{default:t(()=>[re]),_:1})])),e("div",null,[l(P)])]),_:1})],64))}},we=Q(ie,[["__scopeId","data-v-1d31e773"]]);export{we as default};
