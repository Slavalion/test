import{T as $,e as V,l as A,o as r,c as i,a as s,u as d,Z as C,w as n,h as t,F as u,i as p,t as l,b as _,A as v,O as g}from"./app-632bf8b8.js";import{u as D}from"./useAxios-d55f63a8.js";import{_ as T}from"./AuthenticatedLayout-6b95fe5a.js";import{_ as m}from"./AppButton-ffc821ac.js";import{_ as j}from"./CheckboxInput-967d96fa.js";import{_ as L}from"./TextInput-7865c9b5.js";import{u as M}from"./debounce-f5408c10.js";import{d as Y}from"./dayjs.min-356b711c.js";import"./index-81635579.js";import"./index-4cd942bc.js";import"./Modal-1349d4bc.js";import"./SelectInput-944e57c4.js";import"./LabelText-36465a88.js";const B={class:"flex justify-between w-full"},N=t("div",null,"Пользователи",-1),S={action:""},F={class:"panel panel_p-lg"},H={class:"divide-y"},O={class:"leading-none pb-1"},q={class:"text-xs leading-none"},E={class:"text-xs leading-tight"},I={class:"text-xs grid grid-cols-3 gap-1"},P={class:"ml-auto"},Q={class:"flex gap-2"},Z={class:"pt-6 flex gap-2 justify-center"},ne={__name:"Users",props:{users:{type:Array,default:()=>[]},paginator:{type:Array,default:()=>[]}},setup(f){const y={purchase:"В",review:"О",pick_up:"З",review_reaction:"ОР",review_complaint:"ОЖ",action_cart:"ДВК",action_search:"ПТ"},x=D(),b=$({}),c=V("");function k(a){b.post(route("admin.users.loginas",a.id))}const w=a=>{x.post(route("admin.users.set-preferences"),{user_id:a.id,use_livecargo:a.preferences.use_livecargo}).then(()=>{g.reload()})},U=M(()=>{g.reload({data:{q:c.value,page:1}})},300);return A(c,U),(a,h)=>(r(),i(u,null,[s(d(C),{title:"Search"}),s(T,null,{header:n(()=>[t("div",B,[N,t("form",S,[s(L,{modelValue:c.value,"onUpdate:modelValue":h[0]||(h[0]=e=>c.value=e),placeholder:"ID, Имя, Почта или tgusername"},null,8,["modelValue"])])])]),default:n(()=>[t("div",F,[t("div",H,[(r(!0),i(u,null,p(f.users,e=>(r(),i("div",{key:e.id,class:"flex items-center py-4 first:pt-0 last:pb-0 gap-6"},[t("div",null,[t("div",O,"#"+l(e.id)+" "+l(e.name),1),t("div",q,l(e.email),1),t("div",E," Дата рег: "+l(d(Y)(e.created_at).format("YYYY/MM/DD")),1)]),t("div",I,[(r(!0),i(u,null,p(e.prices,o=>(r(),i("div",{key:o,class:"flex justify-center"},[t("span",null,l(y[o.type])+"-",1),t("span",null,l(o.value/100)+"₽",1)]))),128))]),t("div",P,[s(j,{name:"remember",checked:e.preferences.use_livecargo,"onUpdate:checked":o=>e.preferences.use_livecargo=o,onChange:o=>w(e)},{default:n(()=>[_(" Livecargo ")]),_:2},1032,["checked","onUpdate:checked","onChange"])]),t("div",Q,[s(m,{disabled:a.$page.props.auth.user.id==e.id,onClick:o=>k(e)},{default:n(()=>[_(" Авторизоваться ")]),_:2},1032,["disabled","onClick"]),s(d(v),{href:a.route("admin.users.show",{id:e.id})},{default:n(()=>[s(m,{icon:"setting",theme:"outline"},{default:n(()=>[_(" Настройки ")]),_:1})]),_:2},1032,["href"])])]))),128))])]),t("div",Z,[(r(!0),i(u,null,p(f.paginator,e=>(r(),i("div",{key:e},[s(d(v),{href:e.url},{default:n(()=>[s(m,{innerHTML:e.label,theme:e.active?"":"normal"},null,8,["innerHTML","theme"])]),_:2},1032,["href"])]))),128))])]),_:1})],64))}};export{ne as default};
