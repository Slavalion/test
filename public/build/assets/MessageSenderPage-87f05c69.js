import{d as c,r as _,o as f,g,w as r,b as l,h as a,B as V,a as m,u as x}from"./app-632bf8b8.js";import{u as y}from"./useAxios-d55f63a8.js";import{_ as T}from"./AppButton-ffc821ac.js";import{_ as w}from"./SelectInput-944e57c4.js";import{_ as b}from"./TextareaInput-d44495cb.js";import{_ as h}from"./AuthenticatedLayout-6b95fe5a.js";import"./TextInput-7865c9b5.js";import"./index-81635579.js";import"./index-4cd942bc.js";import"./Modal-1349d4bc.js";import"./dayjs.min-356b711c.js";import"./LabelText-36465a88.js";import"./CheckboxInput-967d96fa.js";const v={class:"panel panel_p-lg"},k={class:"grow"},B={class:"flex gap-2"},F={__name:"MessageSenderPage",setup($){const i=y(),n=c(),{loading:d}=i,o=[{key:1,name:"Админам"},{key:0,name:"Пользователям"}],e=_({message:"",userType:o[0]}),p=async()=>{if(e.message==""){n.error("Сообщение не может быть пустым");return}await i.post(route("admin.message-sender.send"),e).then(u=>{n.success("Рассылка запущена"),e.message="",e.userType=o[0]})};return(u,s)=>(f(),g(h,null,{header:r(()=>[l("Рассылка")]),default:r(()=>[a("div",v,[a("form",{onSubmit:V(p,["prevent"]),class:"flex flex-col gap-3"},[a("div",k,[m(b,{modelValue:e.message,"onUpdate:modelValue":s[0]||(s[0]=t=>e.message=t),size:"md",label:"Сообщение для отправки",rows:"10"},null,8,["modelValue"])]),a("div",B,[m(w,{modelValue:e.userType,"onUpdate:modelValue":s[1]||(s[1]=t=>e.userType=t),items:o,size:"md"},null,8,["modelValue"]),m(T,{disabled:x(d)||e.message=="",size:"md"},{default:r(()=>[l(" Отправить ")]),_:1},8,["disabled"])])],32)])]),_:1}))}};export{F as default};
